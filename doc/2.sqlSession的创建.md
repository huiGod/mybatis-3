# sqlSession的创建

初始化mybatis，也就是创建完单例SqlSessionFactory后，就进入到了mybatis的运行阶段。mybatis每次的运行都是通过SqlSession对象来进行，它是运行时的核心。不同于SqlSessionFactory，SqlSession不是线程安全的，故一般建议放在局部作用域中定义, 且使用完后close掉

```java
// 读入xml配置文件
String resource = "main/resources/SqlMapConfig.xml";
InputStream inputStream = Resources.getResourceAsStream(resource);
// 创建SqlSessionFactory，初始化mybatis的关键所在，上一节分析过了
SqlSessionFactory sessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
// 利用SqlSessionFactory来创建SqlSession
SqlSession session = sessionFactory.openSession();
```

